(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0bdef8"],{"2db2":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.targetId&&t.targetType?a("div",{staticStyle:{width:"100%"}},[a("dx-progress-bar",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticStyle:{"padding-bottom":"10px"},attrs:{min:0,max:t.bytesTotal,value:t.bytesLoaded,"status-format":t.statusFormat}}),a("oc-data-grid",{ref:"grid",attrs:{title:t.title,resource:"attachs",toolbarHeight:55,filter:[["target_type","=",t.targetType],"and",["target_id","=",t.targetId]],showRefresh:!0},on:{"row-dbl-click":t.open,"selection-changed":function(e){t.selectedFiles=e.selectedRowsData}},scopedSlots:t._u([{key:"toolbar",fn:function(){return[a("div",{staticClass:"h-box",staticStyle:{"padding-top":"10px"}},[a("dx-file-uploader",{ref:"uploader",attrs:{width:"90",accept:"*",multiple:!0,"upload-mode":"instantly","upload-url":"/api/attachs?target_type="+t.targetType+"&target_id="+t.targetId},on:{uploaded:t.onUploaded,progress:t.onProgress,"content-ready":t.onUploadReady}}),a("dx-button",{attrs:{text:"다운로드",icon:"download",disabled:0==t.selectedFiles.length,stylingMode:"text"},on:{click:t.download}}),a("dx-button",{attrs:{text:"열기",icon:"export",disabled:0==t.selectedFiles.length,stylingMode:"text"},on:{click:t.open}})],1)]},proxy:!0}],null,!1,120266194)},[a("oc-column",{attrs:{"data-field":"id",caption:"파일ID",width:"100",readOnly:!0,visible:!1}}),a("oc-column",{attrs:{"data-field":"name",caption:"파일명","is-required":!0,width:"100%"}}),a("oc-column",{attrs:{"data-field":"file_size",caption:"파일크기","target-type":"integer",readOnly:!0,width:"130"}}),a("oc-column",{attrs:{"data-field":"reg_date",caption:"등록일시","target-type":"datetime",readOnly:!0,width:"180"}}),a("oc-column",{attrs:{"data-field":"reg_user__name",caption:"등록자",readOnly:!0,width:"120"}}),t.$root.isMobile?t._e():a("dx-editing",{attrs:{"allow-deleting":!0,"allow-updating":!0}})],1)],1):t._e()},i=[],d=(a("b0c0"),{props:{title:{default:"첨부"},targetType:String,targetId:String},data:function(){return{selected:!0,bytesLoaded:0,bytesTotal:0,uploadingFile:null,selectedFiles:[],loading:!1}},methods:{onUploadReady:function(t){var e=t.component._selectButton;e.option("icon","upload"),e.option("stylingMode","text")},onProgress:function(t){this.loading=!0,this.uploadingFile=t.file.name,this.bytesLoaded=t.bytesLoaded,this.bytesTotal=t.bytesTotal},statusFormat:function(t){return this.uploadingFile+" - "+this.util.formatFileSize(this.bytesLoaded)+" / "+this.util.formatFileSize(this.bytesTotal)},onUploaded:function(t){this.loading=!1,this.$refs.grid.refresh()},download:function(t){var e=this.selectedFiles[0];this.util.downloadURI("/api/attachs/"+e.id+"/download",e.name)},open:function(t){var e=this.selectedFiles[0];window.open("/api/attachs/"+e.id+"/open")}}}),l=d,n=a("2877"),s=Object(n["a"])(l,o,i,!1,null,null,null);e["default"]=s.exports}}]);